{"version":3,"file":"index.js","mappings":";;;;;;;;;;AAAA;;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA;AAAA;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;AAGA;;;AAGA;;AAIA;;;AAGA;AAAA;;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;AAGA;;;AAGA;;AAIA;;;AAGA;;AAIA;;;AAGA;;AAIA;;;AAGA;;AAIA;;;AAGA;;AAIA;;;AAGA;;AAIA;;;AAGA;AA/KA;AAqLA;AACA","sources":["webpack://test/./dist/index.js"],"sourcesContent":["function runCode(){\n                \n            \n            var Page = function(page){\n              return page\n            }\n          return Page({\n            \n            parseTag(tag) {\n              let res = {\n                  type1: \"tag\",\n                  name: \"\",\n                  voidElement: false,\n                  // attrs: {},\n                  children: [],\n              };\n              let tagMatch = tag.match(/<\\/?([^\\s]+?)[/\\s>]/);\n              if (tagMatch) {\n                  // 标签名称为正则匹配的第2项\n                  res.type1 = tagMatch[1];\n                  if (tag.charAt(tag.length - 2) === \"/\") {\n                      // 判断tag字符串倒数第二项是不是 / 设置为空标签。 例子：<img/>\n                      res.voidElement = true;\n                  }\n              }\n              // 匹配所有的标签正则\n              let classList = tag.match(/\\s([^'\"/\\s><]+?)\\s*?=\\s*?(\".*?\"|'.*?')/g);\n            \n              if (classList) {\n                let style = ''\n                  for (let i = 0; i < classList.length; i++) {\n                      // 去空格再以= 分隔字符串  得到['属性名称','属性值']\n             \n                      let c = classList[i].split(\"=\");\n                      // c[1] = c[1].replace(/\\s*/g, \"\")\n                      c[0] = c[0].replace(/\\s*/g, \"\")\n                      // 循环设置属性\n                      var lengthc = 2\n                      for(lengthc; lengthc < c.length ; lengthc++){\n                        c[1] += \"=\" + c[lengthc]\n                      }\n                      let p = c[1].substring(1, c[1].length - 1)\n                      try{\n                        p = JSON.parse(c[1].substring(1, c[1].length - 1))\n                      }catch(e){\n                       \n                      }\n            \n                      if (c[1]) {\n                        if(c[0] === 'style'){\n                          style = p + style\n                          res[c[0]] = style\n                        }else{\n                          res[c[0]] = p\n                        }\n                \n                      };\n            \n                  }\n              }\n              return res;\n            },\n            \n            parse(html) {\n              var that = this;\n              let result = [];\n              let current;\n              let level = -1;\n              let arr = [];\n              let tagRE = /<[a-zA-Z\\-\\!\\/](?:\"[^\"]*\"['\"]*|'[^']*'['\"]*|[^'\">])*>/g;\n              html.replace(tagRE, function (tag, index) {\n                  // 判断第二个字符是不是'/'来判断是否open\n                  let isOpen = tag.charAt(1) !== \"/\";\n                  // 获取标签末尾的索引\n                  let start = index + tag.length;\n                  // 标签之前的文本信息\n                  let text = html.slice(start, html.indexOf(\"<\", start));\n            \n                  let parent;\n                  if (isOpen) {\n                      level++;\n                      // 设置标签属性\n                      current = that.parseTag(tag);\n                      // 判断是否为文本信息，是就push一个text children  不等于'  '\n                      if (!current.voidElement && text.trim()) {\n                          current[\"text\"] = text\n                      }\n                      // 如果我们是根用户，则推送新的基本节点\n                      if (level === 0) {\n                          result.push(current);\n                      }\n                      // 判断有没有上层，有就push当前标签\n                      parent = arr[level - 1];\n                      if (parent) {\n                          parent.children.push(current);\n                      }\n                      // console.log(current)\n                      arr[level] = current;\n                  }\n                  // 如果不是开标签，或者是空元素：</div><img>\n                  if (!isOpen || current.voidElement) {\n                      // level--\n                      level--;\n                  }\n              });\n              // console.log(result)\n              return result;\n            \n            },\n          setdata: function setdata(dictData) {\n            \n            for(var i in dictData){\n              this.data[i] = dictData[i]\n            }\n            var html = `<view class=\"bg\" style=\"background-color: #F4F4F4; height: auto; width: 100%;\"><view class=\"dayclock\" style=\"background: #FFFFFF; border-radius: 20rpx; height: auto; margin: 0rpx 30rpx 20rpx 30rpx; position: relative; top: 20rpx; width: 690rpx;\">          <view class=\"dayclock_title\" style=\"border-bottom: 2rpx solid #E5E5E5; height: 109rpx; width: 100%;\">         <view class=\"dayclock_column\" style=\"float: left; height: 100%; width: 33.3%;\"><image  ${this.data.dark === 'dark' ? 'style=\"        filter: invert(80%) !important;      \"' : ''} bindtap=\"attention\" class=\"dayclock_column_left\" src=\"../images/tishi.png\" style=\"height: 40rpx; padding: 35rpx 0 35rpx 26rpx; width: 40rpx;\"></image></view>         <view class=\"dayclock_column\" style=\"float: left; height: 100%; width: 33.3%;\"><view  ${this.data.dark === 'dark' ? 'style=\"        filter: invert(1) !important;        color: #fff;      \"' : ''} class=\"dayclock_column_center\" style=\"color: #666666; font-size: 32rpx; font-weight: 549; padding: 35rpx 0; text-align: center;\">我的每日打卡</view></view>         <view class=\"dayclock_column\" style=\"float: left; height: 100%; width: 33.3%;\"><image  ${this.data.dark === 'dark' ? 'style=\"        filter: invert(60%) !important;      \"' : ''} class=\"dayclock_column_right\" src=\"../images/tianjia.png\" bindtap=\"add_task\" style=\"float: right; height: 40rpx; padding: 35rpx 35rpx 35rpx 0; width: 40rpx;\"></image></view>     </view>          ${this.data.taskdata.map((item, index) =>  ` <view style=\"dayclock_data\"  wx:key=\"*this\" style=\"background-color: rgb(255, 255, 255); height: 120rpx; overflow: hidden; position: relative; width: 100%;\">          <view class=\"dayclock_data_huadong_bg\" style=\"height: 120rpx; position: absolute; width: 100%; z-index: 0;\">          <view  ${this.data.dark === 'dark' ? 'style=\"        filter: invert(90%) !important;        background-color: #fc9090;        /* background-color: gray; */        color: #fff;      \"' : ''} style=\"dayclock_data_huadong_bg_bg\" style=\"align-items: center; background-color: rgba(255, 0, 0, 0.582); box-sizing: border-box; color: white; display: flex; height: 118rpx; line-height: 152rpx; padding-left: 33rpx; padding-right: 33rpx; position: absolute; right: 0rpx; text-align: center;\"><view id=\"${typeof index === \"object\" ? JSON.stringify( index) : index}\" class=\"dayclock_data_huadong_bg_del\" catchtap=\"daka_delpromp\">删除</view></view>     </view>          <view style=\"dayclock_data_huadong\" bindtouchstart=\"touchstartX\" bindtap=\"resetX\" bindtouchmove=\"touchmoveX\" bindtouchend=\"touchendX\" animation=\"${typeof this.data.currentIndex === \"object\" ? JSON.stringify( this.data.currentIndex) : this.data.currentIndex===typeof index === \"object\" ? JSON.stringify( index) : index?typeof this.data.animation === \"object\" ? JSON.stringify( this.data.animation) : this.data.animation:\"\"}\" data-index=\"${typeof index === \"object\" ? JSON.stringify( index) : index}\" style=\"background-color: #fff; height: 100rpx; padding: 10rpx 0 10rpx 0; position: absolute; width: 100%; z-index: 999;\"><view class=\"border\">                    <view id=\"${typeof index === \"object\" ? JSON.stringify( index) : index}\" data-id=\"${typeof index === \"object\" ? JSON.stringify( index) : index}\" style=\"${typeof item.task_isDaka === \"object\" ? JSON.stringify( item.task_isDaka) : item.task_isDaka==typeof this.data.true === \"object\" ? JSON.stringify( this.data.true) : this.data.true?\"wx&class                       ;                            float                     :                      left                      ;                            height                     :                      90rpx                      ;                            width                     :                     100  %                        ;                            background-color                     :                      #fff                      ;                            border-radius                     :                      0px 45px 45px 0px                      ;                            overflow                     :                      hidden                      ;                            position                     :                      absolute                      ;                                /        *     top                     :                      0                      ;                           *        /          color                     :                      #fff                      ;                            margin                     :                      7rpx 0                      ;                          \":\"wx&class                       ;                            float                     :                      left                      ;                            height                     :                      90rpx                      ;                            width                     :                     100  %                        ;                            background-color                     :                      #74D5D3                      ;                            border-radius                     :                      0px 45px 45px 0px                      ;                            overflow                     :                      hidden                      ;                            position                     :                      absolute                      ;                                /        *     top                     :                      0                      ;                           *        /          color                     :                      #fff                      ;                            margin                     :                      7rpx 0                      ;                          \"}\" style=\"left: ${-(typeof this.data.w === \"object\" ? JSON.stringify( this.data.w) : this.data.w+2)}px; transform: ${typeof this.data.currentIndex === \"object\" ? JSON.stringify( this.data.currentIndex) : this.data.currentIndex==typeof index === \"object\" ? JSON.stringify( index) : index?typeof this.data.cssAnimation === \"object\" ? JSON.stringify( this.data.cssAnimation) : this.data.cssAnimation:\"\"};background:${typeof item.task_isDaka === \"object\" ? JSON.stringify( item.task_isDaka) : item.task_isDaka==typeof this.data.true === \"object\" ? JSON.stringify( this.data.true) : this.data.true?\" # fff\":\"\"};\">               <text>${typeof this.data.succeedMsg === \"object\" ? JSON.stringify( this.data.succeedMsg) : this.data.succeedMsg}</text>                              <view id=\"${typeof index === \"object\" ? JSON.stringify( index) : index}\" style=\"background:${typeof item.task_isDaka === \"object\" ? JSON.stringify( item.task_isDaka) : item.task_isDaka==typeof this.data.true === \"object\" ? JSON.stringify( this.data.true) : this.data.true?\" # fff\":\"\"};\" style=\"${typeof item.task_isDaka === \"object\" ? JSON.stringify( item.task_isDaka) : item.task_isDaka==typeof this.data.true === \"object\" ? JSON.stringify( this.data.true) : this.data.true?\"wx&class                       ;                            width                     :                      145rpx                      ;                            height                     :                      90rpx                      ;                            background                     :                      #fff                      ;                            border-radius                     :                      0px 45px 45px 0px                      ;                               display                     :                      flex                      ;                            align-items                     :                      center                      ;                            justify-content                     :                      center                      ;                            position                     :                      absolute                      ;                            right                     :                      0                      ;                            top                     :                      0                      ;                          \":\"wx&class                       ;                            width                     :                      145rpx                      ;                            height                     :                      90rpx                      ;                            background                     :                      #74D5D3                      ;                            border-radius                     :                      0px 45px 45px 0px                      ;                               display                     :                      flex                      ;                            align-items                     :                      center                      ;                            justify-content                     :                      center                      ;                            position                     :                      absolute                      ;                            right                     :                      0                      ;                            top                     :                      0                      ;                          \"}\" catchtouchstart=\"startFun\" catchtouchmove=\"moveFun\" catchtouchend=\"endFun\">               <image src=\"${typeof item.task_isDaka === \"object\" ? JSON.stringify( item.task_isDaka) : item.task_isDaka==typeof this.data.true === \"object\" ? JSON.stringify( this.data.true) : this.data.true?\"..    /    images    /    complete.png\":\"..    /    images    /    right.png\"} \"></image>               </view>          </view>                           <view style=\"dayclock_data_column_3\" style=\"float: right; height: 100rpx; width: 22.9%;\"><view class=\"${typeof item.task_isDaka === \"object\" ? JSON.stringify( item.task_isDaka) : item.task_isDaka==typeof this.data.true === \"object\" ? JSON.stringify( this.data.true) : this.data.true?\"wx&class           ;                font-size         :          38rpx          ;                font-weight         :          800          ;                color         :          #74D5D3          ;                line-height         :          100rpx          ;              \":\"wx&class           ;                font-size         :          36rpx          ;                font-weight         :          800          ;                color         :          #F7ECCE          ;                line-height         :          100rpx          ;              \"}\">${typeof item.task_isDaka === \"object\" ? JSON.stringify( item.task_isDaka) : item.task_isDaka==typeof this.data.true === \"object\" ? JSON.stringify( this.data.true) : this.data.true?\"已完成\":\"待完成\"}</view></view>                  <view class=\"dayclock_data_column_2\" style=\"float: right; height: 100rpx; width: 55%;\">              <view  ${this.data.dark === 'dark' ? 'style=\"        filter: invert(1) !important;        color: #fff;      \"' : ''} style=\"dayclock_data_column_2_task\" data-task=\"${typeof item.task_name === \"object\" ? JSON.stringify( item.task_name) : item.task_name}\" bindtap=\"12345\" style=\"color: #666666; font-family: Source Han Sans CN; font-size: 25rpx; font-weight: 600; margin: 13rpx auto 0 22rpx;\">${typeof item.task_name === \"object\" ? JSON.stringify( item.task_name) : item.task_name}</view>              <view class=\"dayclock_data_column_2_cycle\" style=\"color: #666666; font-family: Source Han Sans CN; font-size: 18rpx; font-weight: 500; margin: 6rpx auto 6rpx 22rpx; padding: 6rpx auto 6rspx 22rpx;\">                   <view class=\"dayclock_data_column_2_cycle_week\" style=\"color: #a8a8a8; float: left; padding-right: 20rpx; width: auto;\">${typeof item.task_cycle === \"object\" ? JSON.stringify( item.task_cycle) : item.task_cycle}</view>                   <view class=\"dayclock_data_column_2_cycle_time\" style=\"color: #a8a8a8; float: left; width: auto;\">${typeof item.task_start_time === \"object\" ? JSON.stringify( item.task_start_time) : item.task_start_time}</view>                   <view class=\"dayclock_data_column_2_cycle_time\" style=\"color: #a8a8a8; float: left; width: auto;\">- ${typeof item.task_end_time === \"object\" ? JSON.stringify( item.task_end_time) : item.task_end_time}</view>              </view>         </view>     </view></view>     </view>`)}     <view class=\"dayclock_bottom\" style=\"height: 30rpx;\"></view></view></view>${typeof this.data.showModel2 === \"object\" ? JSON.stringify( this.data.showModel2) : this.data.showModel2 ? `<view style=\"complete\"  style=\"bottom: 0; font-family: unset; left: 0; position: fixed; right: 0; top: 0; z-index: 9999;\">     <view  ${this.data.dark === 'dark' ? 'style=\"        filter: invert(90%) !important;      \"' : ''} class=\"complete_bg\" style=\"background-color: rgba(0, 0, 0, 0.349); bottom: 0; font-family: unset; height: 100%; left: 0; opacity: 0.6; position: fixed; right: 0; top: 0; z-index: 9999;\"></view>     <view class=\"complete_share\" style=\"height: 705rpx; left: 93rpx; position: fixed; top: 200rpx; width: 560rpx; z-index: 99999;\">          <canvas  ${this.data.dark === 'dark' ? 'style=\"        filter: invert(1) !important;      \"' : ''} type=\"2d\" class=\"complete_share_image\" id=\"shareCanvas\" style=\"background-repeat: no-repeat; background-size: 100% 100%; border-radius: 40rpx; height: 100%; width: 100%;\"></canvas>          <view class=\"complete_share_box\" style=\"align-items: center; display: flex; flex-direction: column; height: 23%; justify-content: center; width: 100%;\">               <view  ${this.data.dark === 'dark' ? 'style=\"        filter: invert(90%) !important;        background: rgb(172, 211, 254);        color: #fff;      \"' : ''} class=\"complete_share_box_button\" bindtap=\"savecanvas\" style=\"background-color: #dadada; border-radius: 50rpx; color: #fff; height: 90rpx; line-height: 90rpx; margin: 10rpx; text-align: center; width: 450rpx;\">校友圈一键分享</view>                         </view>     </view>     <image class=\"complete_share_close\" bindtap=\"complete_share_close\" src=\"../images/close.png\" style=\"height: 70rpx; left: 338rpx; position: fixed; top: 1060rpx; width: 70rpx; z-index: 99999;\"></image></view>`: ``}${typeof this.data.showModel3 === \"object\" ? JSON.stringify( this.data.showModel3) : this.data.showModel3 ? `<view style=\"attention\" >     <view  ${this.data.dark === 'dark' ? 'style=\"        filter: invert(90%) !important;      \"' : ''} class=\"attention_bg\" style=\"background-color: rgba(0, 0, 0, 0.349); bottom: 0; font-family: unset; height: 100%; left: 0; opacity: 0.6; position: fixed; right: 0; top: 0; z-index: 9999;\"></view>     <view class=\"attention_text\" style=\"background-color: #fff; border-radius: 40rpx; left: 88rpx; padding-bottom: 30rpx; position: fixed; top: 200rpx; width: 570rpx; z-index: 99999;\">          <view class=\"attention_text_title\" style=\"margin: 40rpx auto; text-align: center;\">使用注意</view>          <view class=\"attention_text_duanluo\" style=\"margin: 10rpx 40rpx; text-align: justify;\">               <view style=\"line-height: 75rpx;\">1.当新建一个打卡任务时，除了热度榜里的标签可自行选择之外，其他记录打卡的信息都要填写。</view>               <view style=\"line-height: 75rpx;\">2.对于同一任务，不能一天打卡两次或以上。</view>               <view style=\"line-height: 75rpx;\">注意事项：如发生显示问题，请尝试着刷新页面重新加载。</view>               </view>     </view>     <image class=\"attention_close\" src=\"../images/close.png\" bindtap=\"attention\" style=\"height: 70rpx; left: 338rpx; position: fixed; top: 1000rpx; width: 70rpx; z-index: 99999;\"></image></view>`: `2`}<!-- <view>  <image  ${this.data.dark === 'dark' ? 'style=\"        filter: invert(0) !important;        color: blanchedalmond;        position: fixed;        bottom: 600rpx;        right: 25rpx;        opacity: 0;        z-index: 999;      \"' : ''} src=\"../images/rank.png\" style=\"img-style\" animation=\"${typeof this.data.animCollect === \"object\" ? JSON.stringify( this.data.animCollect) : this.data.animCollect}\" bindtap=\"collect\"></image>  <image  ${this.data.dark === 'dark' ? 'style=\"        filter: invert(0) !important;        color: blanchedalmond;        position: fixed;        bottom: 600rpx;        right: 25rpx;        opacity: 0;        z-index: 999;      \"' : ''} src=\"../images/time.png\" style=\"img-style\" animation=\"${typeof this.data.animTranspond === \"object\" ? JSON.stringify( this.data.animTranspond) : this.data.animTranspond}\" bindtap=\"transpond\"></image>  <image  ${this.data.dark === 'dark' ? 'style=\"        filter: invert(0) !important;        color: blanchedalmond;        position: fixed;        bottom: 600rpx;        right: 25rpx;        opacity: 0;        z-index: 999;      \"' : ''} src=\"../images/log.png\" style=\"img-style\" animation=\"${typeof this.data.animInput === \"object\" ? JSON.stringify( this.data.animInput) : this.data.animInput}\" bindtap=\"input\"></image>  <image  ${this.data.dark === 'dark' ? 'style=\"        filter: invert(0) !important;        color: black;        position: fixed;        bottom: 600rpx;        right: 50rpx;        z-index: 999;      \"' : ''} src=\"../images/time_2.png\" style=\"img-plus-style\" animation=\"${typeof this.data.animPlus === \"object\" ? JSON.stringify( this.data.animPlus) : this.data.animPlus}\" bindtap=\"plus\"></image>  <text  ${this.data.dark === 'dark' ? 'style=\"        position: fixed;        bottom: 550rpx;        right: 70rpx;      \"' : ''} class=\"text_time\">计时</text></view> -->`\n            this.setData({html : this.parse(html)});\n          },\n            \r\n\r\n  /**\r\n   * 页面的初始数据\r\n   */\r\n  data: {\r\n    \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面加载\r\n   */\r\n  onLoad: function (options) {options = this.options; this.data.dark =wx.getSystemInfoSync().theme; wx.onThemeChange(e => {console.log(e.theme);this.setdata({dark: e.theme})}); this.setdata();\r\n    // wx.navigateTo({\r\n    //   url: '/pages/HOT/HotTop/HotTop?content=测试',\r\n    // })\r\n  },\r\n\r\n\r\n  /**\r\n   * 生命周期函数--监听页面初次渲染完成\r\n   */\r\n  onReady: function () {\r\n    \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面显示\r\n   */\r\n  onShow: function () {\r\n    \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面隐藏\r\n   */\r\n  onHide: function () {\r\n    \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面卸载\r\n   */\r\n  onUnload: function () {\r\n    \r\n  },\r\n\r\n  /**\r\n   * 页面相关事件处理函数--监听用户下拉动作\r\n   */\r\n  onPullDownRefresh: function () {\r\n    \r\n  },\r\n\r\n  /**\r\n   * 页面上拉触底事件的处理函数\r\n   */\r\n  onReachBottom: function () {\r\n    \r\n  },\r\n\r\n  /**\r\n   * 用户点击右上角分享\r\n   */\r\n  onShareAppMessage: function () {\r\n    \r\n  }\r\n})\n      \n      \n        }\n            window.exports = runCode;\n        \n            "],"names":[],"sourceRoot":""}