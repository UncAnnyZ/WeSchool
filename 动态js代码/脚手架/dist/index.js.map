{"version":3,"file":"index.js","mappings":";;;;;;;;;;AAAA;;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAgCA;AACA;AACA;;AACA;;;AAGA;AAAA;;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AADA;AAGA;;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AATA;AAWA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;;;AAEA;;;AAGA;AAGA;AACA;AACA;AADA;AAGA;;;AAEA;;;AAGA;;AAIA;;;AAGA;;AAIA;;;AAGA;;AAIA;;;AAGA;;AAIA;;;AAGA;;AAIA;;;AAGA;AAtXA;AA4XA;AACA","sources":["webpack://test/./dist/index.js"],"sourcesContent":["function runCode(){\n                \n            \n            var Page = function(page){\n              return page\n            }\n          return Page({\n            \n            parseTag(tag) {\n              let res = {\n                  type1: \"tag\",\n                  name: \"\",\n                  voidElement: false,\n                  // attrs: {},\n                  children: [],\n              };\n              let tagMatch = tag.match(/<\\/?([^\\s]+?)[/\\s>]/);\n              if (tagMatch) {\n                  // 标签名称为正则匹配的第2项\n                  res.type1 = tagMatch[1];\n                  if (tag.charAt(tag.length - 2) === \"/\") {\n                      // 判断tag字符串倒数第二项是不是 / 设置为空标签。 例子：<img/>\n                      res.voidElement = true;\n                  }\n              }\n              // 匹配所有的标签正则\n              let classList = tag.match(/\\s([^'\"/\\s><]+?)\\s*?=\\s*?(\".*?\"|'.*?')/g);\n            \n              if (classList) {\n                let style = ''\n                  for (let i = 0; i < classList.length; i++) {\n                      // 去空格再以= 分隔字符串  得到['属性名称','属性值']\n             \n                      let c = classList[i].split(\"=\");\n                      // c[1] = c[1].replace(/\\s*/g, \"\")\n                      c[0] = c[0].replace(/\\s*/g, \"\")\n                      // 循环设置属性\n                      var lengthc = 2\n                      for(lengthc; lengthc < c.length ; lengthc++){\n                        c[1] += \"=\" + c[lengthc]\n                      }\n                      let p = c[1].substring(1, c[1].length - 1)\n                      try{\n                        p = JSON.parse(c[1].substring(1, c[1].length - 1))\n                      }catch(e){\n                       \n                      }\n            \n                      if (c[1]) {\n                        if(c[0] === 'style'){\n                          style = p + style\n                          res[c[0]] = style\n                        }else{\n                          res[c[0]] = p\n                        }\n                \n                      };\n            \n                  }\n              }\n              return res;\n            },\n            \n            parse(html) {\n              var that = this;\n              let result = [];\n              let current;\n              let level = -1;\n              let arr = [];\n              let tagRE = /<[a-zA-Z\\-\\!\\/](?:\"[^\"]*\"['\"]*|'[^']*'['\"]*|[^'\">])*>/g;\n              html.replace(tagRE, function (tag, index) {\n                  // 判断第二个字符是不是'/'来判断是否open\n                  let isOpen = tag.charAt(1) !== \"/\";\n                  // 获取标签末尾的索引\n                  let start = index + tag.length;\n                  // 标签之前的文本信息\n                  let text = html.slice(start, html.indexOf(\"<\", start));\n            \n                  let parent;\n                  if (isOpen) {\n                      level++;\n                      // 设置标签属性\n                      current = that.parseTag(tag);\n                      // 判断是否为文本信息，是就push一个text children  不等于'  '\n                      if (!current.voidElement && text.trim()) {\n                          current[\"text\"] = text\n                      }\n                      // 如果我们是根用户，则推送新的基本节点\n                      if (level === 0) {\n                          result.push(current);\n                      }\n                      // 判断有没有上层，有就push当前标签\n                      parent = arr[level - 1];\n                      if (parent) {\n                          parent.children.push(current);\n                      }\n                      // console.log(current)\n                      arr[level] = current;\n                  }\n                  // 如果不是开标签，或者是空元素：</div><img>\n                  if (!isOpen || current.voidElement) {\n                      // level--\n                      level--;\n                  }\n              });\n              // console.log(result)\n              return result;\n            \n            },\n          setdata: function setdata(dictData) {\n            \n            for(var i in dictData){\n              this.data[i] = dictData[i]\n            }\n            var html = `<view class=\"container\">  <text class=\"top\" style=\"color: rgba(0, 0, 0, 0.5); display: flex; font-size: 33rpx; font-weight: 800; justify-content: center;\">大学物理实验数据计算器</text>  <view class=\"title\" style=\"display: table; margin: 0 auto; margin-top: 70rpx;\">    <view class=\"title-text\" style=\"color: rgba(0, 0, 0, 0.7); font-size: 30rpx; font-weight: 800; margin-bottom: 26rpx;\">原始数据</view>    <view class=\"title-data\" style=\"display: flex; margin-bottom: 15rpx;\">      <input class=\"title-data-input\" bindinput=\"input\" placeholder=\"数据之间以空格分隔如(3.02 2.99 2.8) \" style=\"border: 1rpx solid #DCE0E7; border-radius: 20rpx; color: #C1C2C5; font-size: 26rpx; height: 80rpx; padding-left: 18rpx; width: 500rpx;\"></input>      <view class=\"title-data-submit\" bindtap=\"submit\" style=\"align-items: center; background-color: #A1DFCD; border-radius: 20rpx; color: white; display: flex; font-size: 24rpx; line-height: 42rpx; margin-left: 26rpx; margin-right: 10rpx; padding: 0rpx 30rpx;\"><image class=\"title-data-submit-submit\" src=\"data:image/png;base64,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\" style=\"display: inline-block; height: 48rpx; vertical-align: middle; width: 48rpx;\"></image></view>    </view>      <view class=\"title-choose\" style=\"display: flex; font-size: 23rpx; margin-bottom: 45rpx; margin-top: 20rpx;\">        <picker mode=\"selector\" range=\"${typeof this.data.multiArray === \"object\" ? JSON.stringify( this.data.multiArray) : this.data.multiArray}\" value=\"${typeof this.data.multiIndex === \"object\" ? JSON.stringify( this.data.multiIndex) : this.data.multiIndex}\" bindchange=\"bindMultiPickerChange\" style=\"display: flex;\">          <view class=\"title-choose-text\" style=\"background-color: #B2E2F7; border-radius: 10rpx; color: white; display: flex; padding: 10rpx;\"><text>${typeof this.data.instrument_name === \"object\" ? JSON.stringify( this.data.instrument_name) : this.data.instrument_name}</text><image class=\"title-choose-image\" src=\"data:image/png;base64,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\" style=\"height: 28rpx; margin-left: 10rpx; vertical-align: middle; width: 28rpx;\"></image></view>      </picker>        ${typeof this.data.show === \"object\" ? JSON.stringify( this.data.show) : this.data.show==\"choose\" ? `<view  class=\"title-choose-inch\" style=\"position: absolute; right: 53rpx;\">          <picker mode=\"selector\" range=\"${typeof this.data.calibration === \"object\" ? JSON.stringify( this.data.calibration) : this.data.calibration}\" value=\"${typeof this.data.calibrationIndex === \"object\" ? JSON.stringify( this.data.calibrationIndex) : this.data.calibrationIndex}\" bindchange=\"bindpickerchange\" style=\"display: flex;\">          <view class=\"title-choose-text\" style=\"background-color: #B2E2F7; border-radius: 10rpx; color: white; display: flex; padding: 10rpx;\"><text>${typeof this.data.calibrationItem === \"object\" ? JSON.stringify( this.data.calibrationItem) : this.data.calibrationItem}</text><image class=\"title-choose-image\" src=\"data:image/png;base64,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\" style=\"height: 28rpx; margin-left: 10rpx; vertical-align: middle; width: 28rpx;\"></image></view>          </picker>        </view>`: ``}        ${typeof this.data.show === \"object\" ? JSON.stringify( this.data.show) : this.data.show==\"input\" ? `<view  class=\"title-choose-input\" style=\"border: 1rpx solid #B2E2F7; border-radius: 10rpx; position: absolute; right: 53rpx;\">          <input style=\"padding-left:10rpx\" placeholder=\"请输入仪器误差\" value=\"${typeof this.data.other_err === \"object\" ? JSON.stringify( this.data.other_err) : this.data.other_err}\" bindinput=\"err_input\"></input>        </view>`: `2`}    </view>  </view>  <view class=\"body\" style=\"border-top: 1rpx solid rgba(187,187,187,0.3); margin: 0 25rpx; margin-bottom: 30rpx;\">    ${this.data.data_show.map((item, index) =>  ` <view style=\"body-describe\"  style=\"border-bottom: 1rpx solid rgba(187,187,187,0.3); display: flex; font-size: 26rpx; padding: 30rpx 0rpx;\">            <text class=\"body-describe-text\" style=\"margin-left: 24rpx;\">${typeof item.name === \"object\" ? JSON.stringify( item.name) : item.name}:</text>      <view class=\"body-describe-data\" style=\"border-bottom: 1rpx solid rgba(187,187,187,0.5); position: absolute; right: 60rpx;\">${typeof item.res === \"object\" ? JSON.stringify( item.res) : item.res}</view>    </view>`)}  </view> </view><view class=\"end\" style=\"background-color: #A1DFCD; border-radius: 20rpx; bottom: 10rpx; color: #FCFCFC; font-weight: 800; height: 80rpx; left: 50%; line-height: 80rpx; margin-left: -100rpx; position: relative; width: 200rpx;\">  <view class=\"end-text\" bindtap=\"Check\" style=\"font-size: 26rpx; text-align: center;\">查看公式</view></view>`\n            this.setData({html : this.parse(html)});\n          },\n            \r\n\r\n  /**\r\n   * 页面的初始数据\r\n   */\r\n  data: {\r\n    //输入的数据\r\n    experimentData:\"\",\r\n    //\r\n    ContentDescripe:[\r\n      \"算术平均值\",\r\n      \"标准偏差\",\r\n      \"算术平均偏差\",\r\n      \"a类不确定度\",\r\n      \"b类不确定度\",\r\n      \"总不确定度\",\r\n      \"总相对不确定度\"\r\n    ],\r\n    //b类不确定度的picker数据,用到的东西有点多后续优化\r\n      multiArray: [\"钢直尺\",\"钢卷尺\",\"游标卡尺\",\"螺旋测微器\",\"物理天平\",\"TG928A矿山天平\",\"水银温度计\",\"读数显微镜\",\"其他\"],\r\n      multiIndex: 0,\r\n      calibrationIndex:0,\r\n      show:false,\r\n      calibration:[],\r\n      calibrationItem:\"请选择实验过程使用仪器的刻度\",\r\n      instrument_name:\"请选择实验过程使用的仪器\",\r\n      other_err:\"\",\r\n      data_show:[\r\n       {name:\"算术平均数\",res:\"NaN\"},\r\n       {name: \"标准偏差\",res:\"NaN\"},\r\n       {name:\"算术平均的标准偏差\",res:\"NaN\"},\r\n       {name:\"b类不确定度\",res:\"NaN\"},\r\n       {name:\"a类不确定度\",res:\"NaN\"},\r\n       {name:\"总不确定度\",res:\"NaN\"},\r\n       {name:\"总相对不确定度\",res:\"NaN\"},\r\n      ]\r\n  },\r\n  err_input(e){\r\n    this.setdata({other_err:e.detail.value})\r\n  },\r\n  /**\r\n   * 生命周期函数--监听页面加载\r\n   */\r\n  onLoad: function (options) {options = this.options; this.data.dark =wx.getSystemInfoSync().theme; wx.onThemeChange(e => {console.log(e.theme);this.setdata({dark: e.theme})}); this.setdata();\r\n    \r\n  },\r\n  //输入\r\n  input(e){\r\n    this.setdata({\r\n      experimentData:e.detail.value\r\n    })\r\n  },\r\n  //b类不确定处理封装成一个函数\r\n  process(instrument_name){\r\n    let res = []\r\n\r\n    if(instrument_name==\"游标卡尺\"){\r\n      res.push(\"0.02mm\",\"0.05mm\",\"0.1mm\")\r\n      console.log(res)\r\n      this.setdata({\r\n      //存储是否展示\r\n      show:\"choose\",\r\n      //存储刻度\r\n      calibration:res\r\n    })\r\n    }\r\n    if(instrument_name==\"水银温度计\"){\r\n      res.push(\"0.2℃\",\"0.1℃\")\r\n      console.log(res)\r\n     this.setdata({\r\n      //存储是否展示\r\n      show:\"choose\",\r\n      //存储刻度\r\n      calibration:res\r\n    })\r\n    }\r\n    if(instrument_name==\"其他\"){\r\n      this.setdata({\r\n        //存储是否展示\r\n        show:\"input\",\r\n        //存储刻度\r\n        calibration:res\r\n      })\r\n    }\r\n  },\r\n  //提交表单前的数据处理\r\n  computer(){\r\n    let input_data = this.data.experimentData\r\n    input_data=input_data.split(\" \")\r\n    console.log(input_data)\r\n    let res = []\r\n    let flag = 0\r\n    input_data.forEach(element => {\r\n      if(isNaN(Number(element))){\r\n        flag=1        \r\n      }\r\n    res.push(Number(element))\r\n  });\r\n  if(flag==1){\r\n    return \"数据输入框格式错误\"\r\n  }\r\n  else{\r\n    if(res[0]==0){\r\n      return \"您还未输入数据\"\r\n    }\r\n    return res\r\n  }\r\n  },\r\n  //提交表单\r\n  submit(){\r\n    var that = this\r\n  let res = this.computer()\r\n  let result = {\r\n    \"experimentData\":[],\r\n    \"b_\":\"\"\r\n  }\r\n  if(typeof(res)==\"string\"){\r\n    wx.showToast({\r\n      title:res,\r\n      icon:\"none\"\r\n    })\r\n  }\r\n  else{\r\n    var that = this\r\n    console.log(res)\r\n    if(this.data.instrument_name==\"游标卡尺\"||this.data.instrument_name==\"水银温度计\"){\r\n      console.log(that.data.calibrationItem)\r\n      if(that.data.calibrationItem==\"请选择实验过程使用仪器的刻度\"){\r\n        wx.showToast({\r\n          title: '您还没选择刻度',\r\n          icon:\"none\"\r\n        })\r\n      }\r\n      let b_ = Number(that.data.calibrationItem.replace(\"mm\",\"\").replace(\"℃\",\"\"))\r\n       result = {\r\n        \"experimentData\":res,\r\n        \"b_\":b_/(3**(1/2))\r\n      }\r\n      console.log(result)\r\n    }\r\n    if(this.data.instrument_name==\"其他\"){\r\n      console.log(this.data.other_err)\r\n      if(this.data.other_err/(3**(1/2))==0){\r\n        wx.showToast({\r\n          title: '请输入仪器误差',\r\n          icon:\"none\"\r\n        })\r\n      }\r\n      if(isNaN(this.data.other_err/(3**(1/2)))){\r\n        wx.showToast({\r\n          title: '仪器误差输入框格式错误,应为数字类型',\r\n          icon:\"none\"\r\n        })\r\n      }\r\n       result = {\r\n        \"experimentData\":res,\r\n        \"b_\":this.data.other_err/(3**(1/2))\r\n      }\r\n      console.log(result)\r\n    }\r\n    if(this.data.instrument_name==\"钢直尺\"||this.data.instrument_name==\"钢卷尺\"||this.data.instrument_name==\"螺旋测微器\"||this.data.instrument_name==\"物理天平\"||this.data.instrument_name==\"TG928A矿山天平\"||this.data.instrument_name==\"读数显微镜\"){\r\n\r\n    //定义哈希表把所有情况列举时间复杂度最低\r\n    let hash = {\"钢直尺\":0.1,\"钢卷尺\":0.5,\"螺旋测微器\":0.004,\"物理天平\":50,\"TG928A矿山天平\":5,\"读数显微镜\":0.004,}\r\n    let b_ = hash[this.data.instrument_name]\r\n     result = {\r\n        \"experimentData\":res,\r\n        \"b_\":b_/(3**(1/2))\r\n      }\r\n      console.log(result)\r\n    }\r\n    if(this.data.instrument_name==\"请选择实验过程使用的仪器\"){\r\n      wx.showToast({\r\n        title: '您还未选择实验仪器',\r\n        icon:\"none\"\r\n      })\r\n    }\r\n  }\r\n\r\n  console.log(result)\r\n//在这里进行异步请求加判断\r\n  wx.request({\r\n    url: 'https://www.biubbmk.cn/api_flask_zf/physical_Default',\r\n    method:\"POST\",\r\n    data:{\r\n      arr:result.experimentData,\r\n      ub:result.b_\r\n    },\r\n    success(res){\r\n      that.setdata({data_show:res.data})\r\n    }\r\n  })\r\n  },\r\n  //滚动事件\r\n  bindMultiPickerChange: function (e) {\r\n    let instrument_name = this.data.multiArray[e.detail.value]\r\n    console.log(instrument_name)\r\n    this.setdata({\r\n      multiIndex: e.detail.value,\r\n      show:false,\r\n      instrument_name,\r\n      calibrationItem:\"请选择实验过程使用仪器的刻度\", //初始化防止后续干扰\r\n      other_err:\"\"\r\n    })\r\n    this.process(instrument_name)\r\n  },\r\n  bindpickerchange(e){\r\n    this.setdata({\r\n      calibrationIndex: e.detail.value,\r\n      calibrationItem:this.data.calibration[e.detail.value]\r\n    })\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面初次渲染完成\r\n   */\r\n  onReady: function () {\r\n    \r\n  },\r\n  Check(){\r\n    wx.navigateTo({\r\n      url: \"/pages/HOT/HotNoTop/HotNoTop?content=实验计算器二跳页\"\r\n    })\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面显示\r\n   */\r\n  onShow: function () {\r\n    \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面隐藏\r\n   */\r\n  onHide: function () {\r\n    \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面卸载\r\n   */\r\n  onUnload: function () {\r\n    \r\n  },\r\n\r\n  /**\r\n   * 页面相关事件处理函数--监听用户下拉动作\r\n   */\r\n  onPullDownRefresh: function () {\r\n    \r\n  },\r\n\r\n  /**\r\n   * 页面上拉触底事件的处理函数\r\n   */\r\n  onReachBottom: function () {\r\n    \r\n  },\r\n\r\n  /**\r\n   * 用户点击右上角分享\r\n   */\r\n  onShareAppMessage: function () {\r\n    \r\n  }\r\n})\n      \n      \n        }\n            window.exports = runCode;\n        \n            "],"names":[],"sourceRoot":""}